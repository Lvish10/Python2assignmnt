{% extends 'school_app/base.html' %}

{% block title %}Teacher Dashboard - School Management System{% endblock %}

{% block content %}
<div class="container">
    <h2>Teacher Dashboard</h2>
    <div class="row">
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Add Student</h5>
                    <p class="card-text">Add a new student to the system.</p>
                    <a href="{% url 'add_student' %}" class="btn btn-primary">Add Student</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">View Students</h5>
                    <p class="card-text">View and manage student records.</p>
                    <a href="{% url 'view_students' %}" class="btn btn-success">View Students</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Add Marks</h5>
                    <p class="card-text">Add student marks.</p>
                    <a href="{% url 'add_marks' %}" class="btn btn-info">Add Marks</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Visualizations</h5>
                    <p class="card-text">View Visualizations.</p>
                    <a href="{% url 'teacher_visualizations' %}" class="btn btn-info">View Visualizations</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Generate Report Card</h5>
                    <p class="card-text">Generate a report card for a student.</p>
                    <form method="get" id="reportCardForm">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="student_id">Student ID:</label>
                            <input type="text" id="student_id" name="student_id" class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-info">Generate Report</button>
                    </form>
                </div>
            </div>
        </div>
        
        <script>
            document.getElementById('reportCardForm').addEventListener('submit', function(event) {
                event.preventDefault();  // Prevent the default form submission
                const studentId = document.getElementById('student_id').value;
                if (studentId) {
                    window.location.href = "{% url 'generate_report_card' student_id=0 %}".replace("0", studentId);
                }
            });
        </script>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Manage Attendance</h5>
                    <p class="card-text">Mark and view attendance records.</p>
                    <a href="{% url 'manage_attendance' %}" class="btn btn-info">Manage Attendance</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}